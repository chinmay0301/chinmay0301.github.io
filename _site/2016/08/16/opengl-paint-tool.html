<!DOCTYPE html>
<html>

  <head>
    <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>OpenGL - A Cool Paint Tool!</title>
  <meta name="description" content="It’s been a long time since my GSoC blog series, and I’ve had an exciting week thanks to a Computer Graphics assignment on OpenGL. The assignment involved cr...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://chinmay0301.github.io/2016/08/16/opengl-paint-tool.html">
  <link rel="alternate" type="application/rss+xml" title="Chinmay Talegaonkar" href="http://chinmay0301.github.io/feed.xml">
</head>

    

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>OpenGL - A Cool Paint Tool! | Chinmay Talegaonkar</title>
<meta name="generator" content="Jekyll v3.8.4" />
<meta property="og:title" content="OpenGL - A Cool Paint Tool!" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="It’s been a long time since my GSoC blog series, and I’ve had an exciting week thanks to a Computer Graphics assignment on OpenGL. The assignment involved creating a Paint application which can save / load images in a vector like custom format, without using any of the in-built functionality that OpenGL gives us. This blog describes the algorithms used along with a few screenshots of the results." />
<meta property="og:description" content="It’s been a long time since my GSoC blog series, and I’ve had an exciting week thanks to a Computer Graphics assignment on OpenGL. The assignment involved creating a Paint application which can save / load images in a vector like custom format, without using any of the in-built functionality that OpenGL gives us. This blog describes the algorithms used along with a few screenshots of the results." />
<link rel="canonical" href="http://chinmay0301.github.io/2016/08/16/opengl-paint-tool.html" />
<meta property="og:url" content="http://chinmay0301.github.io/2016/08/16/opengl-paint-tool.html" />
<meta property="og:site_name" content="Chinmay Talegaonkar" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-08-16T17:00:55+05:30" />
<script type="application/ld+json">
{"url":"http://chinmay0301.github.io/2016/08/16/opengl-paint-tool.html","headline":"OpenGL - A Cool Paint Tool!","dateModified":"2016-08-16T17:00:55+05:30","datePublished":"2016-08-16T17:00:55+05:30","description":"It’s been a long time since my GSoC blog series, and I’ve had an exciting week thanks to a Computer Graphics assignment on OpenGL. The assignment involved creating a Paint application which can save / load images in a vector like custom format, without using any of the in-built functionality that OpenGL gives us. This blog describes the algorithms used along with a few screenshots of the results.","mainEntityOfPage":{"@type":"WebPage","@id":"http://chinmay0301.github.io/2016/08/16/opengl-paint-tool.html"},"@type":"BlogPosting","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    
      <meta content="https://avatars1.githubusercontent.com/u/8805240" property="og:image" />
    
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Chinmay Talegaonkar</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
          <a class="page-link" href="/archive.html">Blog</a>
          
        
          
          <a class="page-link" href="/cv/">CV</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="/research/">Research</a>
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">OpenGL - A Cool Paint Tool!</h1>
    <p class="post-meta"><time datetime="2016-08-16T17:00:55+05:30" itemprop="datePublished">Aug 16, 2016</time> </p>
    

  </header>

  <div class="post-content" itemprop="articleBody">
    <p>It’s been a long time since my GSoC blog series, and I’ve had an exciting week thanks to a Computer Graphics assignment on OpenGL. The assignment involved creating a Paint application which can save / load images in a vector like custom format, without using any of the in-built functionality that OpenGL gives us. This blog describes the algorithms used along with a few screenshots of the results.</p>

<p>The entire project has been hosted on a private repository on Github for now. <strong>All features requested for in the assignment have been completed.</strong></p>

<h2 id="features">Features</h2>

<p>All drawings are done on a 1024 x 640 black canvas.
This program can draw <strong>lines</strong>, <strong>triangles</strong>, of <strong>any color and thickness</strong>. It has an <strong>eraser</strong> function which paints in the background color. There is a <strong>fill</strong> feature, which emulates any drawing software’s Paint Bucket function. Lastly, there is a feature to save your current drawing. This is saved in a vector format, and can be loaded back into the software to reproduce the painting.</p>

<p>Here’s a painting of stars on a blue backdrop</p>

<p><img src="http://chinmay0301.github.io/assets/stars.png" alt="stars" /></p>

<h2 id="plotting-points">Plotting Points</h2>

<p>To plot a single point at <code class="highlighter-rouge">(x, y)</code>, a <code class="highlighter-rouge">point_t</code> object was created having color same as the attribute in <code class="highlighter-rouge">pen_t</code>. This point was then extrapolated depending on the size provided by <code class="highlighter-rouge">pen_t</code>. For <code class="highlighter-rouge">size = 1</code>, a single pixel was plotted. For <code class="highlighter-rouge">size = 2</code>, a <code class="highlighter-rouge">3 x 3</code> grid was plotted with <code class="highlighter-rouge">(x, y)</code> as the centre of the square. In general, for <code class="highlighter-rouge">size = i</code>, a <code class="highlighter-rouge">2i-1 x 2i-1</code> square was plotted centred at <code class="highlighter-rouge">(x,y)</code>.</p>

<h2 id="lines-and-triangles">Lines and Triangles</h2>

<p>To draw lines, the <a href="https://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm">Brensenham Algorithm</a> was used and implemented in all eight octants. Each desired pixel was drawn individually after an adjustment on size and color, depending on the attributes of the <code class="highlighter-rouge">pen_t</code> class. All pixels were first added to a 2D array and plotted on the screen at the end of the whole operation.</p>

<p>To draw triangles, three lines were drawn in succession.</p>

<h2 id="fill-algorithm">Fill Algorithm</h2>

<p>To fill a certain section on the image, first a seed pixel is provided by the user. The color of that pixel is called the target color, and all pixels which are connected (horizontal and vertical connections only) to this pixel by a series of target colored pixels are colored by the fill color.</p>

<p>The fill algorithm implemented is the second algorithm in the <a href="https://en.wikipedia.org/wiki/Flood_fill#Alternative_implementations">alternative implementations</a> mentioned on the Wikipedia page. The first alternative implementation was extremely slow, forcing us to use the faster and more practical approach of filling the east-west direction first.</p>

<h2 id="loading--saving-from-files">Loading / Saving from Files</h2>

<p>The program maintains a list of operations performed on the canvas from the start. The operations supported are drawing lines (code <code class="highlighter-rouge">'L'</code>), drawing triangles (code <code class="highlighter-rouge">'T'</code>), changing pen configuration, (code <code class="highlighter-rouge">'C'</code>) and filling figures (code <code class="highlighter-rouge">'F'</code>). Each of the corresponding classes have a pair of functions, <code class="highlighter-rouge">to_string</code> and <code class="highlighter-rouge">from_string</code>.</p>

<p>Each time one of the above operations happen, the <code class="highlighter-rouge">to_string</code> converts relevant information about the object to a string and stores it in the list along with the <code class="highlighter-rouge">op_code</code>. On pressing Save, the list is read out and written down into a file.</p>

<p>On pressing <code class="highlighter-rouge">Load</code>, the file is read and divided into op_codes and inputs. The input strings are fed into empty objects via the <code class="highlighter-rouge">from_string</code> function, which populates the object’s parameters (for example, the endpoints of a <code class="highlighter-rouge">line_t</code> object). This object is then drawn to the canvas.</p>

<h2 id="future-improvements">Future Improvements</h2>

<ul>
  <li>There is a need to have an UNDO function. This is easy to implement due to the list structure that has been used to store operations.</li>
  <li>There should be a function to draw circles and ellipses.</li>
  <li>The eraser is not very useful in the current implementation.</li>
</ul>

<h2 id="finally-an-ode-to-rio-2016">Finally, an ode to Rio 2016!</h2>

<p><img src="http://chinmay0301.github.io/assets/rio.png" alt="rio" /></p>

  </div>

</article>



      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Chinmay Talegaonkar</li>
          <li><a href="mailto:chinmay0301@gmail.com">chinmay0301@gmail.com</a></li>
          <li><a href="mailto:chinmay0301@iitb.ac.in">chinmay0301@iitb.ac.in</a></li>
        </ul>
      </div>
      <div class="footer-col footer-col-1">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/chinmay0301"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">chinmay0301</span></a>

          </li>
          
          
          
          <li>
            <a href="https://www.linkedin.com/in/chinmay0301"><span class="icon icon--linkedin"><svg  x="0px" y="0px" width="16px" height="16px" viewBox="0 50 512 512" style="enable-background:new 0 0 90 90;" xml:space="preserve">
<g>
    <path fill="#828282" d="M150.65,100.682c0,27.992-22.508,50.683-50.273,50.683c-27.765,0-50.273-22.691-50.273-50.683
    C50.104,72.691,72.612,50,100.377,50C128.143,50,150.65,72.691,150.65,100.682z M143.294,187.333H58.277V462h85.017V187.333z
    M279.195,187.333h-81.541V462h81.541c0,0,0-101.877,0-144.181c0-38.624,17.779-61.615,51.807-61.615
    c31.268,0,46.289,22.071,46.289,61.615c0,39.545,0,144.181,0,144.181h84.605c0,0,0-100.344,0-173.915
    s-41.689-109.131-99.934-109.131s-82.768,45.369-82.768,45.369V187.333z"/>
</g>
</svg></span><span class="username">&nbsp;Chinmay Talegaonkar</span></a>

          </li>
          
        </ul>
      </div>
      <div class="footer-col footer-col-4">
        <!-- <p></p> -->
        <ul class="social-media-list">
        
        </ul>
      </div>
      
      
      
    </div>

  </div>

</footer>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-89391111-1', 'auto');
  ga('send', 'pageview');

</script>
    <script id="dsq-count-scr" src="//http-martiansideofthemoon-github-io.disqus.com/count.js" async></script>
  </body>

</html>
